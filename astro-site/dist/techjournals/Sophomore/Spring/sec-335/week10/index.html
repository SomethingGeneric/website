<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>Astro</title><style>body{background-color:#000;color:#0f0;font-family:Courier New,Courier,monospace}a{color:#0f0}
</style></head> <body>  <h1 id="week-10-class-on-4124">Week 10 (Class on 4/1/24)</h1>
<h2 id="hunting-suid-and-publicly-writeable-files-class-activity-101">Hunting SUID and publicly writeable files (class activity 10.1)</h2>
<p>In my case, I just did <code>/</code> for <code>/&#x3C;dir></code> below.</p>
<p>To find all suid execs on the system (without root, so you can live off the land etc):
<code>find /&#x3C;dir> -perm /u=s,g=s 2>/dev/null</code> (piping away errors not required, but nice since so many <code>/proc</code> and <code>/sys</code> matches etc)</p>
<p>To find files that are publicly writeable:
<code>find /&#x3C;dir> -perm /o=w 2>/dev/null</code> (once again, recommend to get rid of errors, because of psuedofilesystems being silly)</p>
<h2 id="nancurinir-reflection-102">Nancurinir Reflection (10.2)</h2>
<p>In terms of techniques and tools, this week’s target was compromised using things we had seen before.</p>
<p>The unique thing about this target was that it only exposed the Apache server, which didn’t have any <em>useful</em> CVE’s for it.</p>
<p>However, using <code>dirb</code> revealed a phpmyadmin, who’s credentials were the username made obvious by the main Apache page, and the password was, as hinted, within the text of the page itself.</p>
<p>In the phpmyadmin, I was able to grab the password hash for the MySQL root user, which when reversed on CrackStation, was obviously the password for the Linux user <code>gandalf</code>.</p>
<p>So, I then used a revshell thru the compromised phpmyadmin to log in as <code>www-data</code>, and then pivot to <code>gandalf</code>, and finally to <code>root</code>, as <code>gandalf</code> was a sudoer.</p>  </body></html>