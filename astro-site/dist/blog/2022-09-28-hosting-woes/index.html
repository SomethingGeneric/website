<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width"><title>Astro</title><style>body{background-color:#000;color:#0f0;font-family:Courier New,Courier,monospace}a{color:#0f0}
</style></head> <body>  <hr>
<h2 id="layout-srclayoutsmarkdownlayoutastro">layout: /src/layouts/MarkdownLayout.astro</h2>
<hr>
<h2 id="slug-hosting-woestitle--hosting-woesauthors-matttags-hosting-nginx-fail2ban-linux">slug: hosting-woes
title:  ‚ÄúHosting Woes‚Äù
authors: [matt]
tags: [hosting, nginx, fail2ban, linux]</h2>
<h1 id="irritations-with-hosting">Irritations with Hosting</h1>
<p>As I‚Äôm sure you know (since I mentioned it on the site at least once), I help host Crystal Linux‚Äôs infrastructure, using two different nodes.
One of which is a home server, that, of my own admission, was a little lacking in the security department.
So, when someone came along scraping for servers to exploit, they spent quite a bit of time on my node that happens to also be (temporarily) serving the role of primary Crystal Linux package server.
Hence, poof went the package updates. And oh, in come the discord messages.
As an added Murphy‚Äôs law moment, around the same time, we were due for a new ISO image release. Except, GitHub now couldn‚Äôt pull packages from <em>me</em> either!</p>
<h2 id="nginx-limiting">Nginx Limiting</h2>
<p>Through a combination of sources, most of which are so far buiried in my firefox history as to be inaccesible, I managed to eek out some request limits on nginx, which seems to have (mostly?) solved the issue.</p>
<h2 id="fail2ban">Fail2ban</h2>
<p>Fail2ban seems to be incredibly versatile, if you have the willpower to spend ages configuring it. Luckily for me, combining the default <code>nginx-limit-req</code> rule and <code>ufw</code> seemed to work <em>well enough.</em> (And by that, I mean that editing the nginx conf worked, and the rest was a disaster)</p>
<h2 id="conclusion">Conclusion</h2>
<p>Please hurry up and fix mirroring, OSSPlanet!!</p>
<h2 id="next-day-update">Next-Day Update</h2>
<p>We‚Äôre setting up a strong VPS with our new OpenCollective money üëÄ, so even if we keep delaying OSSPlanet, this should still be resolved Soon:tm:</p>  </body></html>